<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
       <record id="inherited_mrp_eco_view_form" model="ir.ui.view">
            <field name="name">inherited.mrp.eco.view.form</field>
            <field name="model">mrp.eco</field>
            <field name="inherit_id" ref="mrp_plm.mrp_eco_view_form" />
            <field name="arch" type="xml">

                <xpath expr="//field[@name='product_tmpl_id']" position="replace">
                    <!-- <field name="product_tmpl_id" domain="[('type', 'in', ['consu', 'product'])]" attrs="{'readonly': [('state', '!=', 'confirmed')], 'invisible': [('type', 'in', ('routing', 'product'))], 'required': [('type', 'in', ('bom', 'both', 'product'))]}"/> -->
                    <field name="product_tmpl_id" domain="[('type', 'in', ['consu', 'product'])]" attrs="{'readonly': [('state', '!=', 'confirmed')], 'invisible': [('type', 'in', ('routing', 'product'))], 'required': [('type', 'in', ('bom', 'both'))]}"/>
                    <field name="for_call_write"/>
                </xpath>
                <xpath expr="//form/sheet/notebook" position="inside">                  

                    <page string="Affected Parts" attrs="{'invisible': [('type', '!=', 'product')]}">
		                    <field name="affected_part_line" >
		                        <tree editable="bottom">
                                    <field name ="affected_product_id" string="Product" options='{"no_open": True,"no_create": 1, "no_create_edit": 1}'/>
		                            <field name ="production_state" string="Production State"/>
                                    <field name ="generate_revision" string="Generate Revision" />
                                    <field name ="next_revision" string="Next Revision"/>
                                    <field name="notes"/>
                                    
		                            <field name="mrp_eco_id" invisible="1"/>
                                    <field name="document_wizard_line" invisible="1"/>
                                    <button name="upload_doc" id="upload_doc_1" string="Upload Document" type="object"   width="0.1" options='{"warn": true}' attrs="{'invisible': [('generate_revision', '!=', True)]}" class="oe_edit_only oe_highlight"/>		                        
                                
                                </tree>	                                                       
		                    </field>
                    </page>

                </xpath>
            </field>
        </record>     
          

        

    </data>
</odoo>